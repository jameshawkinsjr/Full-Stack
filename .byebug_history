continue
@chatroom_subscription.update(last_read_message: last_message )
@chatroom_subscription = ChatroomSubscription.find_by chatroom_id: @chatroom.id, user_id: current_user.id
@chatroom_subscription = ChatroomSubscription.find_by chatroom_id: params[:chatroom_id], user_id: current_user.id
last_message = @chatroom.messages.last.id
@chatroom = Chatroom.find(params[:chatroom_subscription][:chatroom_id])
continue
rm
aas
continue
chatroom.messages.count { |message| message.id > last_read_message }
last_read_message
last_read_message = sub.last_read_message || 0
sub.last_read_message
last_read_message
chatroom.messages.count
continue
uuser
c
params
continue
params[:chatroom][:users]
params[:chatroom][users]
params[:chatroom].users
params[users]
params.users
params
c
current_user.full_name
current_user
ser
e
current_user
ser
